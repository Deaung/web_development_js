### shootLeft === 0 ì¼ë•Œ ì¢…ë£Œ

```javascript
  if(shootLeft === 0){
    if(userScore > comScore){
      textElement.innerHTML = 'ìŠ¹ë¦¬';
      alert('ìŠ¹ë¦¬');
    }else if(userScore < comScore){
      textElement.innerHTML = 'íŒ¨ë°°'
      alert('íŒ¨ë°°');
    }else{
      textElement.innerHTML = 'ë¬´ìŠ¹ë¶€'
      alert('ë¬´ìŠ¹ë¶€');
    }
  }
```

### ì½”ë“œ ë¦¬íŒ©í† ë§ 
1. ë¦¬íŒ©í† ë§(Refactoring) : í”„ë¡œê·¸ë¨ì˜ êµ¬í˜„ì—ëŠ” ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šìœ¼ë©° ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©ì„± ë° ì‹œì¸ì„±ì„ ê°œì„ í•˜ëŠ” ì‘ì—…

2. ì–´ëŠë¶€ë¶„ ë¶€í„° ìˆ˜ìˆ í•˜ëŠ”ê°€?
- ì¼ë°˜ì ìœ¼ë¡œ 'ì—¬ëŸ¬ë²ˆ ë°˜ë³µë˜ë©´ì„œ ì½”ë“œì˜ ì¤„ ìˆ˜ëŠ” ì–¼ë§ˆ ë˜ì§€ ì•ŠëŠ” ë¶€ë¶„' ì„ í•¨ìˆ˜ë¡œ ë°”ê¿”ì£¼ëŠ” ê²ƒ ë¶€í„° ì‹œì‘í•˜ëŠ”ê²Œ ì¢‹ë‹¤.

refactoring.js

3. ë¦¬íŒ©í† ë§ ê³¼ì •ì¤‘ ì˜ë¬¸ì 
```javascript
function showText(s){
  let textElement = document.getElementById('text');

  textElement.innerHTML = s;//stringì˜ ì¶•ì•½ì–´
}
```
ì´ìƒì˜ í•¨ìˆ˜ ì •ì˜ê°€ 4ì¤„ì´ê³ , ì§€ì—­ë³€ìˆ˜ì˜€ë˜ textElement ë‘ì¤„ ì§€ì› ìœ¼ë‹ˆ ê²°ê³¼ì ìœ¼ë¡œ 2ì¤„ ëŠ˜ì–´ë‚œ ê²ƒì´ ë˜ì—ˆì€ë° ë¬´ìŠ¨ì˜ë¯¸ê°€ ìˆëŠ”ê°€?

- ë³„ë„ì˜ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì •ì˜í•˜ëŠ” ê²ƒì€ ë‹¨ìˆœíˆ ì½”ë“œëŸ‰ì„ ë”°ì§€ëŠ” ê²ƒ ë¿ë§Œ ì•„ë‹ˆë¼ (ì¶”í›„ í”„ë¡œê·¸ë¨ì´ ì¶©ë¶„íˆ í¬ë‹¤ë©´ ì½”ë“œëŸ‰ë„ ì¤„ì–´ë“¬) 'ì„¸ì„¸í•œ êµ¬í˜„ ë‚´ìš©ì„ ìˆ¨ê¸¸ ìˆ˜ ìˆë‹¤ëŠ” ì´ì ' ì´ í›¨ì”¬ í¼.

ê·¸ë¦¬ê³  ì˜ˆë¥¼ ë“¤ì–´, ê·¸ëƒ¥ ì´ê²¼ìŠµë‹ˆë‹¤ ê°€ ì•„ë‹Œ ëª¨ë“  textì— ì• ë’¤ë¡œ ğŸˆ ë¶™ì´ë ¤ë©´

ë¦¬í™í† ë§ ì´ì „ì—ëŠ” textElement.innerHtml = ì„ ì°¾ì•„ë‹¤ë‹ˆë©° ìˆ˜ì •í•´ì•¼ í•˜ì§€ë§Œ í•¨ìˆ˜ë¡œ ì •ì˜ í•´ ë‘ì—ˆë‹¤ë©´
```javascript
function showText(s){
  let textElement = document.getElementById('text');

  textElement.innerHTML = 'ğŸˆ' + s + 'ğŸˆ';//stringì˜ ì¶•ì•½ì–´
}
```
ë¡œ ê³ ì¹˜ë©´ ì¼ê´€ì„±ìˆê²Œ ì ìš© ë  ê²ƒ

#### updateComScore() / updateUserScore() ì •ì˜ ë° ì ìš©
```javascript
function updateComScore(score){
  let comScoreElement = document.getElementById('computer-score');
  comScore += score;

  comScoreElement.innerHTML = comScore;
}
function updateUserScore(score){
  let userScoreElement = document.getElementById('user-score');

  userScore += score;
  userScoreElement.innerHTML = userScore;
}
```
#### ë²„íŠ¼ì˜ í™œì„±í™” ì—¬ë¶€ ì§€ì •í•˜ëŠ” ë¶€ë¶„ í•¨ìˆ˜í™”

```javascript
function disableComButton(flag){
  let computerButtons = document.getElementsByClassName('btn-computer');
  
  for(let i = 0; i < computerButtons.length; i++){
    computerButtons[i].disabled = flag;
  }
}

function disablUserButton(flag){
  let userButtons = document.getElementsByClassName('btn-user');

  for(let i = 0; i < userButtons.length; i++){
    userButtons[i].disabled = flag;
  }
}
```

### ë†êµ¬ ê²Œì„ AI ê°œì„ 
- í˜„ì¬ê¹Œì§€ì˜ ìƒí™©ì—ì„œëŠ” ë†êµ¬ ê²Œì„ì´ ì¡°ì¡í•¨ -> ì–´ë–¤ ìƒí™©ì´ë˜ì§€ 2ì ê³¼ 3ì ìŠ›ì˜ í™•ë¥ ì´ ê°™ê¸° ë•Œë¬¸ì— ê·¼ì†Œí•œ ìŠ¹ë¦¬ ê°™ì€ ë°•ì§„ê°ì´ ì—†ê¸° ë•Œë¬¸ì— ì ìˆ˜ ì°¨ì´ì— ë”°ë¥¸ í™•ë¥  ì¡°ì •

- êµ¬í˜„ ë°©ë²•
- ì ìˆ˜ ì°¨ì´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‚¬ìš©ìê°€ í° ì ìˆ˜ì°¨ì´ë¡œ ì´ê¸°ê³  ìˆì„ ê²½ìš° ì»´í“¨í„°ì˜ ë“ì í™•ë¥ ì„ ì¦ê°€ / ìœ ì €ì˜ ë“ì  í™•ë¥  ê°ì†Œ, ë°˜ëŒ€ì˜ ê²½ìš° ìœ ì €ì˜ ë“ì í™•ë¥  ì¦ê°€ / ì»´í“¨í„°ì˜ ë“ì í™•ë¥  ê°ì†Œ

ì˜ˆì‹œ ì‹œë‚˜ë¦¬ì˜¤

1. ì»´í“¨í„°ì˜ ê¸°ë³¸ ìŠ› í™•ë¥ ì€ 2ì  ìŠ› 50% / 3ì ìŠ› 33%
2. ì»´í“¨í„°ê°€ 6ì  ì´ìƒ ì§€ëŠ”ê²½ìš° ê°ê° 60%ì™€ 38% ë¡œ ì¦ê°€
3. ì»´í“¨í„°ê°€ 10ì  ì´ìƒ ì§€ëŠ” ê²½ìš° 70% 43%ë¡œ ì¦ê°€
4. ì»´í“¨í„°ê°€ 6ì ì´ìƒ ì´ê¸°ëŠ” ê²½ìš° ê°ê° 40%/28% ë¡œ ê°ì†Œ
5. ì»´í“¨í„°ê°€ 10ì  ì´ìƒ ì´ê¸°ëŠ” ê²½ìš° ê°ê° 30%/23% ë¡œ ê°ì†Œ

- updateAi() í•¨ìˆ˜ ì •ì˜ í›„ í˜¸ì¶œ
```javascript
function updateAi(){
  let difference = userScore - comScore;
  
  if(difference > 11){
    comPercent2 = 0.7;
    comPercent3 = 0.43;
  }else if(difference > 7){
    comPercent2 = 0.6;
    comPercent3 = 0.38;
  }else if(difference > -11){
    comPercent2 = 0.3;
    comPercent3 = 0.23;
  }else if(difference > -7){
    comPercent2 = 0.4;
    comPercent3 = 0.28;
  }
}
```
### ìƒˆë¡œìš´ ë°©ë²•ìœ¼ë¡œ ë¦¬íŒ©í† ë§
#### ì˜¤ë¸Œì íŠ¸ì™€ ê´„ë…„ëœ ë³€ìˆ˜ ë¬¶ì–´ì£¼ê¸° 
```javascript
let comScore = 0;
let userScore = 0; 
let isComputerTurn = true;
let shootLeft = 15;
let comPercent2 = 0.5;
let comPercent3 = 0.33;
let userPercent2 = 0.5;
let userPercent3 = 0.33;
```
- ì´ìƒì˜ ì„ ì–¸ëœ ë³€ìˆ˜ë“¤ì„ í™•ì¸í•´ë³´ë©´ ëª‡ëª‡ ë³€ìˆ˜ë“¤ì€ ë™ì¼í•œ ê¸°ëŠ¥ í•˜ëŠ”ë° ì»´í“¨í„° / ì‚¬ìš©ìë¡œ ë‚˜ë‰˜ì–´ ìˆìŒì„ í™•ì¸ ê°€ëŠ¥
```javascript
// ì»´í“¨í„° ê´€ë ¨
let comScore = 0;
let comPercent2 = 0.5;
let comPercent3 = 0.33;
// ì‚¬ìš©ì ê´€ë ¨
let userScore = 0; 
let userPercent2 = 0.5;
let userPercent3 = 0.33;
// ê²Œì„ì§„í–‰ ê´€ë ¨
let isComputerTurn = true;
let shootLeft = 15;
```
#### Object
: ì˜¤ë¸Œì íŠ¸ë¥¼ key - valueì˜ ìŒìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆê³  ì–´ë–¤ ê°’ì´ë¼ë„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” íŠ¹ì§•ì´ ìˆìŒ

```javascript
let dog = {
  name : 'í–í”¼',
  age : 5,
  gender : 'M'
  friends : ['ë‚˜ë¹„', 'ì‚ì‚', 'ì—˜ë¦¬']
};
```
- Object ê´€ë ¨ ë¦¬íŒ©í† ë§ ëë‚¸ ì´í›„ 

#### onComputerShoot()í•¨ìˆ˜ í™•ì¸

```javascript
function onComputerShoot(){
 
  if(!game.isComputerTurn) return;

  updateAi();

  let shootType = Math.random() < 0.5 ? 2 : 3;

  if (shootType === 2){
    if(Math.random() < computer.percent2){
      
      showText('ì»´í“¨í„°ê°€ 2ì ìŠ›ì„ ì„±ê³µí–ˆìŠµë‹ˆë‹¤ now-user');

      updateComScore(2);

    }else{
      showText('ì»´í“¨í„°ê°€ 2ì ìŠ›ì„ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤ now-user');
    }
  }else{
    if(Math.random() < computer.percent3){    
      showText('ì»´í“¨í„°ê°€ 3ì ìŠ›ì„ ì„±ê³µí–ˆìŠµë‹ˆë‹¤ now-user');
      updateComScore(3);
    }else{
      showText('ì»´í“¨í„°ê°€ 3ì ìŠ›ì„ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤ now-user');
    }
  } 
  game.isComputerTurn = false;
  disableComButton(true);
  disablUserButton(false);
}
```
- ì´ìƒì˜ ì½”ë“œë¥¼ í™•ì¸ í–ˆì„ ë•Œ, shootType()ì— ë”°ë¼ ë¡œì§ì´ ë‹¬ë¼ì§

ì´ì „ì—ëŠ” ì‚¼í•­ ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ í•´ë‹¹ ë°©ë²• ì±„íƒí•˜ì˜€ìœ¼ë‚˜ shoot()ì´ë¼ëŠ” í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ê°€ 2ëƒ 3ì´ëƒì˜ ì°¨ì´ ë°–ì— ì—†ìŒ

- ê°ì²´ì˜ ì†ì„±ê°’ ì¡°íšŒ ë°©ë²• #1

console.log(computer.percent2) -> 0.5 ê²°ê³¼ê°’
- ê°ì²´ì˜ ì†ì„±ê°’ ì¡°íšŒ ë°©ë²• # 2

consol2.log(computer['percent2']) -> 0.5 ê²°ê³¼ê°’

#### #1, #2 ì˜ ì°¨ì´ì  
: ì´ìƒì˜ ifë¬¸ ë¶€ë¶„ì„ í•¨ìˆ˜í™”ì‹œí‚¨ë‹¤ê³  ê°€ì •í–ˆì„ ë•Œ, computer.percent2ì™€ ê°™ì€ ì ‘ê·¼ ë°©ì‹ì€ ì €ë“¤ì´ 'ê°’' ì´ ì•„ë‹Œ 'ë³€ìˆ˜' ë¼ëŠ” ì ì´ ìˆì–´ #2 ë¥¼ ì‚¬ìš© í•¨

- computer['percent2'] : ì˜¤ë¸Œì íŠ¸ì—ì„œ ë™ì ìœ¼ë¡œ 'ì†ì„±ëª…' ì„ ë§Œë“¤ì–´ ì°¸ì¡°í•˜ëŠ” ê¸°ëŠ¥

- ì ‘ê·¼í•˜ê³  ì‹¶ì€ ì†ì„±ëª…ì„ ë¬¸ìì—´ í˜•íƒœë¡œ ë„˜ê¸¸ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë³€ìˆ˜ì˜ ê°’ ë“±ì„ ì‚¬ìš©í•´ì„œ ë™ì  ë³€ê²½ì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” íŠ¹ì§• ìˆìŒ

ì´ìƒì˜ ê°œë…ì„ ê¸°ì¤€ìœ¼ë¡œ refactoring2.js ë¡œ ì´ë™

```javascript
if(Math.random() < computer['percent' + shootType]) { // ê²°ê³¼ê°’ì€ percent2/percent3 ê°€ ë˜ë¯€ë¡œ computer['percent2'] í˜¹ì€ computer['percent3']ê°€ ì‚°ì¶œ ë¨
    showText('ì»´í“¨í„°ì˜ ' +shootType+'ì  ìŠ›ì´ ì„±ê³µí–ˆìŠµë‹ˆë‹¤');
    updateComScore(shootType);
  }else{
    showText('ì»´í“¨í„°ì˜ ' +shootType+'ì  ìŠ›ì´ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
  }
```